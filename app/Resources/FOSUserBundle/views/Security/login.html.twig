{% extends '@FOSUser/layout.html.twig' %}
{% trans_default_domain 'FOSUserBundle' %}

{% block body %}
    <div class="col-4 offset-4">
        <div class="card">
            <div class="card-header bg-transparent">{{ 'security.login.title'|trans }}</div>
            <form class="card-body form-signin" action="{{ path("fos_user_security_check") }}" method="post">
                {% if csrf_token %}
                    <input type="hidden" name="_csrf_token" value="{{ csrf_token }}"/>
                {% endif %}
                <h2 class="form-signin-heading"></h2>
                <label class="sr-only" for="input-username">{{ 'security.login.username'|trans }}</label>
                <input type="email" name="_username" id="input-username"
                       placeholder="{{ 'security.login.username'|trans }}"
                       value="{{ last_username }}" required="required" class="form-control"/>
                <label class="sr-only" for="input-password">{{ 'security.login.password'|trans }}</label>
                <input type="password" placeholder="{{ 'security.login.password'|trans }}" id="input-password"
                       name="_password" required="required" class="form-control"/>
                <div class="checkbox">
                    <label class="custom-control custom-checkbox">
                        <input type="checkbox" value="remember-me" class="custom-control-input" id="remember_me"
                               name="_remember_me">
                        <span class="custom-control-indicator"></span>
                        <span class="custom-control-description">{{ 'security.login.remember_me'|trans }}</span>
                    </label>
                </div>
                <button class="btn btn-lg btn-primary btn-block"
                        type="submit">{{ 'security.login.submit'|trans }}</button>
            </form>
            {% if error %}
                <div class="card-footer bg-danger text-white">
                    <i class="fa fa-warning-sign"></i> {{ error.messageKey|trans(error.messageData, 'security') }}
                </div>
            {% endif %}
        </div>
    </div>
{% endblock %}
{% block custom_styles %}
    <style type="text/css">
        body {
            padding-top: 40px;
            padding-bottom: 40px;
            background-color: #eee;
        }

        .form-signin .form-signin-heading,
        .form-signin .checkbox {
            margin-bottom: 10px;
        }

        .form-signin .checkbox {
            font-weight: 400;
        }

        .form-signin .form-control {
            position: relative;
            box-sizing: border-box;
            height: auto;
            padding: 10px;
            font-size: 16px;
        }

        .form-signin .form-control:focus {
            z-index: 2;
        }

        .form-signin input[type="email"] {
            margin-bottom: -1px;
            border-bottom-right-radius: 0;
            border-bottom-left-radius: 0;
        }

        .form-signin input[type="password"] {
            margin-bottom: 10px;
            border-top-left-radius: 0;
            border-top-right-radius: 0;
        }
    </style>
{% endblock %}
{% block custom_scripts %}
    <script>
        $(function () {
            $('#remember_me').prop('checked', true);
        });
    </script>
{% endblock %}